import{d as x,u as h,a as P,j as e,C as l,p as j,o as v,r as _,g as m,b as p,c as f,L as y}from"./index-CUp3CJ4F.js";import{a as A}from"./index-C6kW9zXC.js";const u="/NeoFlex/assets/headphone_1-CPeTpcEq.png",g="/NeoFlex/assets/headphone_2-2DU0qTAP.png",L="/NeoFlex/assets/headphone_3-CFPNWuZ_.png",b="/NeoFlex/assets/headphone_4-Dgr9dlHx.png",F="/NeoFlex/assets/headphone_5-DIWmSMba.png",C="/NeoFlex/assets/headphone_6-TbQF8zpx.png",r=[{id:1,img:u,title:"Apple BYZ S852I",price:2353,rate:4.7,count:1,currentPrice:2353},{id:2,img:g,title:"Apple EarPods",price:2278,rate:4.5,count:1,currentPrice:2278},{id:3,img:L,title:"Apple AirPods Pro",price:2821,rate:4.2,count:1,currentPrice:2821},{id:4,img:u,title:"Apple AirPods Mini",price:2278,rate:4.5,count:1,currentPrice:2278},{id:5,img:g,title:"Apple AirPods Max",price:1233,rate:4.2,count:1,currentPrice:1233},{id:6,img:b,title:"GERLAX GH",price:2192,rate:4.2,count:1,currentPrice:2192},{id:7,img:F,title:"GERLAX GH",price:938,rate:4.2,count:1,currentPrice:938},{id:8,img:C,title:"GERLAX GH",price:1253,rate:4.2,count:1,currentPrice:1253}],N=[{id:1,title:"Наушники",products:[r[0],r[1],r[2],r[3],r[4]]},{id:2,title:"Беспроводные наушники",products:[r[5],r[6],r[7]]}],E=t=>r.find(o=>o.id===t)||null,w={list:N,getProductById:E},S={products:w},H=async()=>{const t=await Promise.resolve(S.products.list);return await x(1e3),t},$="data:image/svg+xml,%3csvg%20width='25'%20height='23'%20viewBox='0%200%2025%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.627%2018.0143L5.41636%2022.3656L7.37665%2014.2449L0.960938%208.81491L9.38233%208.14829L12.627%200.439671L15.8716%208.14829L24.2943%208.81491L17.8773%2014.2449L19.8376%2022.3656L12.627%2018.0143Z'%20fill='%23FFCE7F'/%3e%3c/svg%3e",k="_content_49u6o_301",G="_pointer_49u6o_314",M="_p_relative_49u6o_321",R="_secondary_text_49u6o_325",T="_product_catalog_item___content_49u6o_342",B="_product_catalog_item___image_49u6o_346",D="_product_catalog_item___caption_49u6o_351",I="_product_catalog_item___footer_49u6o_352",i={content:k,pointer:G,p_relative:M,secondary_text:R,product_catalog_item___content:T,product_catalog_item___image:B,product_catalog_item___caption:D,product_catalog_item___footer:I},O=({item:t})=>{const c=h(),{showSnackbar:o}=P(),s=async()=>{await j(t).then(n=>{c(v.actions.incrementOrder(t)),o(`Товар ${t.title} добавлен в корзину!`)}).catch(n=>o(n.message))};return e.jsxs(l,{children:[e.jsx(l.Content,{children:e.jsxs("div",{className:i.product_catalog_item___content,children:[e.jsx("div",{className:i.product_catalog_item___image,children:e.jsx("img",{src:t.img,alt:t.img})}),e.jsxs("div",{className:i.product_catalog_item___caption,children:[e.jsx("h4",{children:t.title}),e.jsxs("h4",{className:i.secondary_text,children:[t.price," ₽"]})]})]})}),e.jsx(l.Footer,{children:e.jsxs("div",{className:i.product_catalog_item___footer,children:[e.jsxs("div",{children:[e.jsx("img",{src:$,alt:"vector"}),e.jsx("h4",{children:t.rate})]}),e.jsx("h4",{onClick:s,className:i.pointer,children:"Купить"})]})})]})},X="_content_rtch2_301",Z="_pointer_rtch2_314",q="_p_relative_rtch2_321",z="_secondary_text_rtch2_325",W="_products_list__table_rtch2_342",K={content:X,pointer:Z,p_relative:q,secondary_text:z,products_list__table:W};function Q(t){const[c,o]=_.useState(),s=_.useMemo(()=>t,[]),n=_.useCallback(a=>{a instanceof HTMLElement?o(A(a,s)):o(void 0)},[s]),d=_.useCallback(a=>{c&&(a?c.enable():c.disable())},[c]);return[n,d]}const U=({products:t,categoryTitle:c})=>{const[o]=Q({duration:500});return e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:c}),e.jsx("div",{ref:o,className:K.products_list__table,children:t==null?void 0:t.map(s=>e.jsx(O,{item:s},m(s.id.toString())))})]})},Y=()=>async t=>{try{t(p.actions.productsFetching());const c=await H();t(p.actions.productsFetchingSuccess(c))}catch(c){t(p.actions.productsFetchingError(c.message))}},J=t=>c=>{const o=h(),{products:s,isLoading:n,error:d}=f(a=>a.productsReducer);return _.useEffect(()=>{s.length===0&&o(Y())},[]),e.jsx(t,{...c,isLoading:n,error:d,products:s})},V=({isLoading:t,error:c,products:o})=>e.jsxs(e.Fragment,{children:[t&&e.jsx(y,{}),c&&e.jsx("h4",{children:c}),!t&&(o==null?void 0:o.map(s=>e.jsx(U,{categoryTitle:s.title,products:s.products},m(s.id.toString()))))]}),tt=J(V),ot=({})=>e.jsx(tt,{});export{ot as HomePage};
